# Лабораторная работа №3

## Подготовка

##### Шаг 1

Сначала необходимо написать launch-файл для запуска генерации мира, робота и управления роботом с помощью клавиш. 

Тем самым уже будет реализовано произвольное движение робота с помощью клавиш.

##### Шаг 2 

Далее любым способом необходимо добавить движение робота по траектории из лабораторной работы №1. Считывание координат робота также происходит через подписку на ноду.

## Написание скрипта

Публикация сообщений роботу осуществляется с помощью создания публикатора и дальнейшей публикации сообщений типа Twist.

Создание публикатора:

```
velocity_publisher = rospy.Publisher('/cmd_vel', Twist, queue_size=10)
```

Получение данных с лидара осуществляется с помощью подписки на ноду:

```
laser_subscriber = rospy.Subscriber('/scan', LaserScan, las_callback)
```

Где LaserScan - тип сообщения, который необходимо импортировать:

```
from sensor_msgs.msg import LaserScan
```

las-callback - функция, которая будет обрабатывать данные с лидара.

Пример функции:

```
def las_callback(msg)
    right = msg.ranges[270]

```

Далее необходимо написать функцию ПИД регулятора, которая будет обрабатывать расстояние до стены и возвращать какое-то управляющее воздействие на робота.

Различные графики можно выводить с помощью библиотеки matplotlib.

## Полезные ссылки

Лекция по ПИД регуляторам - https://github.com/ulstu/robotics_cad/tree/master/lectures/lec%2005.%20PID%20regulation
